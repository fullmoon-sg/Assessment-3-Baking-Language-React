[{"/workspace/Assessment-3-Baking-Language-React/baking_language/src/reportWebVitals.js":"1","/workspace/Assessment-3-Baking-Language-React/baking_language/src/App.js":"2","/workspace/Assessment-3-Baking-Language-React/baking_language/src/index.js":"3","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Products.js":"4","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Product/Product.js":"5","/workspace/Assessment-3-Baking-Language-React/baking_language/src/context/ProductContext.js":"6","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home.js":"7","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/AboutUs.js":"8","/workspace/Assessment-3-Baking-Language-React/baking_language/src/context/FeedbackContext.js":"9","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Feedbacks.js":"10","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Feedback/Feedback.js":"11","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Login.js":"12","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/SignUp.js":"13","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery.js":"14","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Cart.js":"15","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery/Images.js":"16","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery/Image_source.js":"17","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Footer.js":"18","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Receipt.js":"19","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/MyProfile.js":"20","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home/HomeCarousel.js":"21","/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home/HomeCardDeck.js":"22"},{"size":362,"mtime":1611116412000,"results":"23","hashOfConfig":"24"},{"size":9093,"mtime":1614235587918,"results":"25","hashOfConfig":"24"},{"size":626,"mtime":1613360993000,"results":"26","hashOfConfig":"24"},{"size":718,"mtime":1613895317000,"results":"27","hashOfConfig":"24"},{"size":1927,"mtime":1613966468000,"results":"28","hashOfConfig":"24"},{"size":128,"mtime":1613466406000,"results":"29","hashOfConfig":"24"},{"size":2476,"mtime":1613966820000,"results":"30","hashOfConfig":"24"},{"size":809,"mtime":1613966711000,"results":"31","hashOfConfig":"24"},{"size":129,"mtime":1612072466000,"results":"32","hashOfConfig":"24"},{"size":576,"mtime":1612540671000,"results":"33","hashOfConfig":"24"},{"size":1465,"mtime":1612077241000,"results":"34","hashOfConfig":"24"},{"size":3164,"mtime":1614235227666,"results":"35","hashOfConfig":"24"},{"size":6488,"mtime":1614134848000,"results":"36","hashOfConfig":"24"},{"size":153,"mtime":1612789926000,"results":"37","hashOfConfig":"24"},{"size":2450,"mtime":1613914111000,"results":"38","hashOfConfig":"24"},{"size":901,"mtime":1612540671000,"results":"39","hashOfConfig":"24"},{"size":916,"mtime":1612540672000,"results":"40","hashOfConfig":"24"},{"size":2097,"mtime":1613536764000,"results":"41","hashOfConfig":"24"},{"size":4651,"mtime":1613967100000,"results":"42","hashOfConfig":"24"},{"size":3095,"mtime":1614226642817,"results":"43","hashOfConfig":"24"},{"size":1846,"mtime":1613966863000,"results":"44","hashOfConfig":"24"},{"size":1572,"mtime":1613983351000,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"b9ebm9",{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"48"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/workspace/Assessment-3-Baking-Language-React/baking_language/src/reportWebVitals.js",[],["95","96"],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/App.js",["97"],"import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from 'react-router-dom'\nimport axios from 'axios'\nimport Products from './components/Products'\nimport ProductContext from \"./context/ProductContext\"\nimport Home from './components/Home'\nimport Receipt from './components/Receipt'\nimport AboutUs from './components/AboutUs'\nimport Feedbacks from './components/Feedbacks'\nimport MyProfile from './components/MyProfile'\nimport Login from './components/Login'\nimport FeedbackContext from \"./context/FeedbackContext\"\nimport SignUp from \"./components/SignUp\"\nimport Cart from \"./components/Cart\"\nimport Footer from './components/Footer'\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport './components/css/Menu.css';\nimport \"./App.css\"\n\n\nclass App extends React.Component {\n\n    state = {\n        products: [],\n        feedbacks: [],\n        cartItems: [],\n        token: '',\n        toggle: false,\n        login: false,\n        gst: 0,\n        cartTotal: 0,\n        subTotal: 0,\n    }\n\n    async componentDidMount() {\n        let productResponse = await axios.get('products-api');\n        await this.setState({\n            products: productResponse.data\n        })\n\n        let feedbackResponse = await axios.get('feedbacks-api');\n        await this.setState({\n            feedbacks: feedbackResponse.data\n        })\n\n        if (!this.state.token) {\n            await this.setState({\n                'token': localStorage.getItem('adonisToken')\n            })\n        }\n    }\n\n    menuToggle = () => {\n        this.setState({\n            toggle: !this.state.toggle\n        })\n    }\n\n    setToken = (token) => {\n        this.setState({\n            token\n        })\n    }\n\n    removeToken = (token) => {\n        this.setState({\n            token: \"\",\n            login: false\n        })\n    }\n\n    confirmLogin = () => {\n        this.setState({\n            login: true\n        })\n    }\n\n    logout = () => {\n        localStorage.clear();\n        // this.removeToken(this.state.token);\n        this.setState({\n            token: \"\",\n            login: false,\n            gst: 0,\n            cartTotal: 0,\n            subTotal: 0,\n            redirect: true\n        })\n    }\n\n    addToCart = async (product) => {\n        const cartItems = this.state.cartItems.slice();\n        let existInCart = false;\n        cartItems.forEach(item => {\n            if (item.id === product.id) {\n                item.quantity++;\n                existInCart = true;\n            }\n        });\n\n        if (!existInCart) {\n            await this.setState({\n                cartItems: [...this.state.cartItems, product],\n            })\n        }\n        let subtotal = this.state.cartItems.reduce((accumulate, currentItem) => accumulate + ((currentItem.price * currentItem.quantity) / 100), 0);\n        let gst = 0.07 * subtotal\n        let total = gst + subtotal\n        await this.setState({\n            subTotal: subtotal,\n            gst: gst,\n            cartTotal: total\n        })\n    }\n\n    removeFromCart = (product) => {\n        const cartItems = this.state.cartItems.slice();\n        let newCart = cartItems.filter((x) => x.id !== product.id)\n        let newSubTotal = newCart.reduce((accumulate, currentItem) => accumulate + ((currentItem.price * currentItem.quantity) / 100), 0);\n        let newGst = newSubTotal * 0.07;\n        let newTotal = newSubTotal + newGst\n        this.setState({\n            subTotal: newSubTotal,\n            gst: newGst,\n            cartTotal: newTotal,\n            cartItems: newCart\n        });\n    }\n\n    payNow = async () => {\n        console.log(\"Test\")\n        if (this.state.login === false) {\n            alert(\"Please proceed to login first. Thank you.\");\n            return <Redirect to={'/login'} />\n        }\n        \n        if (this.state.login === true){\n            let cartContent = this.state.cartItems;\n            let option = {\n                headers: {\n                    Authorization: \"Bearer \" + this.state.token\n                }\n            };\n            await axios.put(\n                \"api/cart\",\n                { cart_content: cartContent },\n                option\n            );\n            let escapedToken = encodeURIComponent(this.state.token);\n            window.open(\"https://8080-de3f3226-69d2-47aa-8bc2-2faf1e0a30b5.ws-us03.gitpod.io/\" + \"api/loginWithToken?token=\" + escapedToken);\n        }\n    };\n\n    render() {\n        const { toggle } = this.state;\n        return (\n            <div className=\"app\">\n                <Router>\n                    <header>\n                        <div className=\"menu\" onClick={this.menuToggle}>\n                            <FormatAlignJustifyIcon fontSize=\"large\" />\n                        </div>\n                        <div className=\"logo\">\n                            <h4><Link to=\"/\">Baking Language</Link></h4>\n                        </div>\n                        <nav>\n                            <ul className={toggle ? \"toggle\" : \"\"}>\n                                <li><Link to=\"/\">Home</Link></li>\n                                {/* <li><Link to=\"/gallery\">Gallery</Link></li> */}\n                                {this.state.login === true && (\n                                    <li><Link to=\"/receipt\">Free Receipt</Link></li>\n                                )}\n                                <li><Link to=\"/products\">Products</Link></li>\n                                <li><Link to=\"/feedbacks\">Feedbacks</Link></li>\n                                <li><Link to=\"/aboutUs\">About Us</Link></li>\n                                {this.state.login === true && (\n                                    <li><Link to=\"/profile\">My Profile</Link></li>\n                                )}\n                                {this.state.login === false && (\n                                    <li><Link to=\"/login\">Login</Link></li>\n                                )}\n                                {this.state.login === true && (\n                                    <li><Link to=\"/login\" onClick={this.logout}>Logout</Link></li>\n                                )}\n                                <li className=\"close\" onClick={this.menuToggle}>\n                                    <CloseIcon fontSize=\"large\" />\n                                </li>\n                            </ul>\n                            <div className=\"nav-cart\">\n                                <span>{this.state.cartItems.length}</span>\n                                <Link to=\"/cart\">\n                                    <ShoppingCartIcon fontSize=\"large\" />\n                                </Link>\n                            </div>\n                        </nav>\n                    </header>\n                    <Switch>\n                        <Route exact path=\"/\">\n                            <Home\n                                token={this.state.token}\n                                removeToken={this.removeToken} />\n                        </Route>\n                        <Route exact path=\"/receipt\">\n                            <Receipt />\n                        </Route>\n                        <Route exact path=\"/products\">\n                            <ProductContext.Provider value={this.state}>\n                                <Products addToCart={this.addToCart} />\n                            </ProductContext.Provider>\n                        </Route>\n                        <Route exact path=\"/feedbacks\">\n                            <FeedbackContext.Provider value={this.state}>\n                                <Feedbacks />\n                            </FeedbackContext.Provider>\n                        </Route>\n                        <Route exact path=\"/aboutUs\">\n                            <AboutUs />\n                        </Route>\n                        <Route exact path=\"/profile\">\n                            <MyProfile token={this.state.token} />\n                        </Route>\n                        <Route exact path=\"/login\">\n                            <Login\n                                setToken={this.setToken}\n                                confirmLogin={this.confirmLogin}\n                            />\n                        </Route>\n                        <Route exact path=\"/login/signup\">\n                            <SignUp />\n                        </Route>\n                        <Route exact path=\"/cart\">\n                            <Cart cartItems={this.state.cartItems}\n                                subTotal={this.state.subTotal}\n                                gst={this.state.gst}\n                                cartTotal={this.state.cartTotal}\n                                removeFromCart={this.removeFromCart}\n                                payNow={this.payNow} />\n                        </Route>\n                    </Switch>\n                </Router>\n                <Footer />\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n","/workspace/Assessment-3-Baking-Language-React/baking_language/src/index.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Products.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Product/Product.js",[],["98","99"],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/context/ProductContext.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/AboutUs.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/context/FeedbackContext.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Feedbacks.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Feedback/Feedback.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Login.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/SignUp.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery.js",[],["100","101"],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Cart.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery/Images.js",[],["102","103"],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Gallery/Image_source.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Footer.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Receipt.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/MyProfile.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home/HomeCarousel.js",[],"/workspace/Assessment-3-Baking-Language-React/baking_language/src/components/Home/HomeCardDeck.js",[],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":152,"column":96,"nodeType":"110","messageId":"111","endLine":152,"endColumn":97},{"ruleId":"104","replacedBy":"112"},{"ruleId":"106","replacedBy":"113"},{"ruleId":"104","replacedBy":"114"},{"ruleId":"106","replacedBy":"115"},{"ruleId":"104","replacedBy":"116"},{"ruleId":"106","replacedBy":"117"},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat",["118"],["119"],["118"],["119"],["118"],["119"],"no-global-assign","no-unsafe-negation"]